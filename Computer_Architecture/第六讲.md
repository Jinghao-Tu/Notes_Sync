---
title: '第五讲 第2章 指令系统'
---


<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->

- [2.6 指令系统的发展和改进](#26-指令系统的发展和改进)
  - [2.6.1 CISC 指令集功能设计](#261-cisc-指令集功能设计)
  - [2.6.2 RISC 指令集功能设计](#262-risc-指令集功能设计)
- [2.7 指令格式举例](#27-指令格式举例)

<!-- /code_chunk_output -->

## 2.6 指令系统的发展和改进

- 复杂指令集架构 CISC
- 精简指令集架构 RISC

### 2.6.1 CISC 指令集功能设计

1. 面向目标程序增强指令功能
   - 对大量的目标程序及其执行情况进行统计分析, 找出那些使用频度高, 执行时间长的指令或指令串. 对于使用频度高的指令, 用硬件加快其执行; 对于使用频度高的指令串, 用一条新的指令来替代.
   - 既能减少目标程序的执行时间, 也能有效地缩短程序的长度.
   - 可以从以下几个方面来改进:
     1. 增强运算型指令的功能
     2. 增强数据传送指令的功能
     3. 增强程序控制指令的功能
2. 面向高级语言的优化实现来改进指令系统 (缩小高级语言与机器语言的语义差距)
   - 高级语言与一般的机器语言的语义差距非常大, 为高级语言程序的编译带来了一些问题
   - 编译器本身比较复杂
   - 编译生成的目标代码比较难以达到很好的优化
   1. 增强对高级语言和编译器的支持
      1. 对对高级语言中使用频度高, 执行时间长的语句, 增强有关指令的功能, 加快这些指令的执行速度, 或者增加专门的指令, 可以达到减少目标程序的执行时间和减少目标程序长度的目的.
      2. 增强系统结构的规整性, 减少系统结构中的各种例外情况
   2. 高级语言计算机
      1. 间接执行高级语言的机器: 高级语言作为机器的汇编语言
      2. 直接执行高级语言的机器: 直接把高级语言作为机器语言 (较激进)
3. 面向操作系统的优化实现改进指令系统
   1. 处理机工作状态和访问方式的切换
   2. 进程的管理和切换
   3. 存储管理和信息保护
   4. 进程的同步与互斥, 信号灯的管理等

### 2.6.2 RISC 指令集功能设计

- CISC 结构的缺点:
  1. 在 CISC 结构的指令系统中, 各种指令的使用频率相差悬殊. 据统计, 有 20% 的指令使用频率最大, 占运行时间的 80%, 也就是说, 有 80% 的指令在 20% 的运行时间内才会用到.
  2. CISC 结构指令系统的复杂性带来了计算机体系结构的复杂性. 大量占用芯片面积, 给 VLSI 设计造成很大困难, 这不仅增加了研制时间和成本, 而且还容易造成设计错误.
  3. CISC 结构的指令系统中, 许多复杂指令需要很复杂的操作, 因而运行速度慢.
  4. 在 CISC 结构的指令系统中, 由于各条指令的功能不均衡性, 不利于采用先进的计算机体系结构技术 (如流水技术) 来提高系统的性能.

RISC 计算机指令集结构不能简单地着眼于精简指令系统上, 更重要的目的是使得计算机体系结构更加简单, 合理和高效.

- RISC 指令集功能设计原则:
  - 选取使用频率最高的指令, 并补充一些最有用的指令
  - 每条指令的功能应尽可能简单, 并在一个机器周期内完成 (采用流水线技术后)
  - 所有指令长度均相同
  - 只有 load 和 store 操作指令才访问存储器, 其它指令操作均在寄存器之间进行
  - 大多数指令都采用硬连线技术
  - 以简单有效的方式支持高级语言
  - 充分利用流水线技术

## 2.7 指令格式举例
